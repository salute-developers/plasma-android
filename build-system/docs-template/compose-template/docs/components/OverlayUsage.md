---
title: Overlay
---

Стилизованный контейнер на основе Box, который располагается поверх остального контента и используется для оформления полупрозрачных подложек, модальных слоёв и вспомогательных поверхностeй.

Overlay можно использовать, например, для:

- затемнения (scrim) основного экрана при показе модальных окон или bottom sheet;
- подложки под плавающие кнопки управления, тулбары, панели действий;
- отображения системных оверлеев: лоадеров, тостов, хинтов;
- блокировки/перехвата ввода поверх основного экрана.


```kotlin
// @sample: com/sdds/compose/uikit/fixtures/samples/overlay/Overlay_Simple.kt
```

## Параметр `alpha`

Параметр `alpha` в `Overlay` задаётся как лямбда `() -> Float`, а не как простое значение. Это позволяет:

- удобно подключить анимации появления/исчезновения (fade in / fade out) через `animateFloatAsState`, `updateTransition` или любые другие анимационные API;
- динамически менять прозрачность оверлея в зависимости от состояния экрана (например, от прогресса жеста, значения скролла или текущего шага сценария).

Примеры сценариев:

- **Анимация появления модального слоя** — при показе диалога анимируйте `alpha` от `0f` до значения, определённого стилем (например, `0.6f`), чтобы фон плавно затемнялся.
- **Зависимость от скролла** — считайте коэффициент прозрачности из позиции списка или `NestedScrollConnection` и возвращайте его из лямбды `alpha`, чтобы оверлей становился более/менее заметным при прокрутке.

Благодаря тому, что `alpha` — это функция, Overlay всегда читает актуальное значение прозрачности при каждом ре-композе, и вам не нужно вручную обновлять модификатор.

### Пример изменения alpha в зависимости от скролла

Для List:
```kotlin
// @sample: com/sdds/compose/uikit/fixtures/samples/overlay/OverlayList_Simple.kt
```

Для Modifier.verticalScroll():
```kotlin
// @sample: com/sdds/compose/uikit/fixtures/samples/overlay/OverlayVerticalScroll_Simple.kt
```

Изменяем альфу в Overlay:
```kotlin
Overlay(
style = Overlay.Default.style(),
alpha = {
(scrollOffset / ScrollThresholdPx).coerceIn(0f, 1f)
},
) {
    // content
}
```

## Параметры компонента Overlay

| Параметр           | Тип                                              | Описание                                                                                          |
|--------------------|--------------------------------------------------|---------------------------------------------------------------------------------------------------|
| modifier           | Modifier                                         | Модификатор для изменения внешнего вида и поведения компонента.                                   |
| style              | OverlayStyle                                     | Стиль оформления Overlay (цвета и др.).                                                           |
| interactionSource  | MutableInteractionSource                         | Источник взаимодействий для отслеживания состояний взаимодействия.                                |
| alpha              | () -> Float                                      | Лямбда, возвращающая прозрачность Overlay (поддержка анимаций и динамики).                        |
| content            | @Composable BoxScope.() -> Unit                  | Контент, размещаемый внутри Overlay.                                                              |

## Параметры OverlayStyle

| Параметр           | Тип                                              | Описание                                                                                          |
|--------------------|--------------------------------------------------|---------------------------------------------------------------------------------------------------|
| colors.backgroundColor | `StatefulValue<Brush>`                         | Цвет фона Overlay. Может быть SolidColor или градиент, поддерживает состояния взаимодействия.      |

Для Overlay существует набор сгенерированных стилей. Также стиль можно настроить с помощью OverlayStyle.builder().

### Создание стиля с помощью builder()

```kotlin
// @sample: com/sdds/compose/uikit/fixtures/samples/overlay/Overlay_Style.kt
```
