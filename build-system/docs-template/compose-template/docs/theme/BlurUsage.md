---
title: Blur API - размытие фона
---

## Общее описание

Blur API предназначен для создания эффекта размытия фонового контента в Jetpack Compose.
API построен на явном разделении **источника** и **цели** блюра, связанных через общее состояние.

Это позволяет:
- точно контролировать, какой контент участвует в размытии;
- переиспользовать один источник для нескольких целей;
- централизованно управлять стилем блюра.

---

## Основные сущности

### BlurState

`BlurState` — маркерное состояние, связывающее источник и цели блюра.
Один и тот же экземпляр состояния должен использоваться и в `blurSource`, и в `blurEffect`.

Состояние создаётся через:

```kotlin
// @sample: com/sdds/compose/uikit/fixtures/samples/blur/BlurSample_StateCreation.kt
```

---

### BlurStyle

`BlurStyle` описывает визуальные параметры блюра:
- форму области размытия;
- радиус blur;
- цветовой tint;
- интенсивность шума;
- fallback-фон для платформ без поддержки настоящего blur.

Создание стиля:

```kotlin
// @sample: com/sdds/compose/uikit/fixtures/samples/blur/BlurSample_StyleCreation.kt

```

---

## Использование кастомного стиля

Можно явно передать стиль в `blurEffect`:

```kotlin
// @sample: com/sdds/compose/uikit/fixtures/samples/blur/BlurSample_CustomStyleOnTarget.kt
```

---

## Рекомендуемый паттерн использования

- Источник определяет контент, который будет использован для формирования blur-эффекта. Как правило, источником является фон экрана или крупный контейнер.
- Цель — composable, к которому применяется размытие. Blur берётся из источника, связанного через `BlurState`.

```kotlin
// @sample: com/sdds/compose/uikit/fixtures/samples/blur/BlurSample_RecommendedPattern.kt
```

---

## Ограничения и fallback

На платформах или устройствах без поддержки настоящего blur:
- используется `fallbackBackground` из `BlurStyle`;
- визуально сохраняется матовый эффект без размытия.

Это гарантирует предсказуемое поведение API на всех платформах.

